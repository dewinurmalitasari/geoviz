import{c as m,r as f,j as a,k as c,aq as p,b as s}from"./index-CeQ_7HA2.js";import{P as h}from"./page-header-YNPf6UAV.js";import{D as b}from"./data-table-LorA5bIz.js";import{C as k}from"./circle-check-big-BXhMNU5M.js";import"./input-DRQBVYz2.js";import"./scroll-area-Mw2U67h-.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"m9 9.5 2 2 4-4",key:"1dth82"}]],l=m("book-check",y);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],N=m("circle-x",j);function w(){return f.useMemo(()=>[{id:"no",header:()=>a.jsx("div",{className:"text-center font-bold",children:"No"}),cell:({row:e})=>a.jsx("div",{className:"text-center font-medium",children:e.index+1}),size:10},{id:"userAnswer",header:()=>a.jsx("div",{className:"text-center font-bold",children:"Jawaban Anda"}),cell:({row:e})=>{const t=e.original;return i(t)?a.jsx("div",{className:c("text-center px-4 py-2 font-semibold rounded-lg mx-2",t.userAnswer===t.correctAnswer?"bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-300":"bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-300"),children:d(t.userAnswer)}):o(t)?a.jsx("div",{className:"text-center px-4 py-3 font-medium",children:x(t.userValues,t.transformationType)}):a.jsx("div",{className:"text-center",children:"-"})},size:30},{id:"correctAnswer",header:()=>a.jsx("div",{className:"text-center font-bold",children:"Jawaban Benar"}),cell:({row:e})=>{const t=e.original;return i(t)?a.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 text-center px-4 py-2 font-semibold rounded-lg mx-2",children:d(t.correctAnswer)}):o(t)?a.jsx("div",{className:"text-center px-4 py-3 font-medium",children:x(t.correctValues,t.transformationType)}):a.jsx("div",{className:"text-center",children:"-"})},size:30},{id:"status",header:()=>a.jsx("div",{className:"text-center font-bold",children:"Status"}),cell:({row:e})=>{const t=e.original;let r=!1;return i(t)?r=t.userAnswer===t.correctAnswer:o(t)&&(r=S(t.userValues,t.correctValues,t.transformationType)),a.jsx("div",{className:c("text-center px-4 py-2 font-bold rounded-lg mx-2",r?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200"),children:r?"Benar":"Salah"})},size:20}],[])}function i(e){return e.correctAnswer&&typeof e.correctAnswer=="string"&&["translation","dilatation","rotation","reflection"].includes(e.correctAnswer)}function o(e){return e.transformationType&&e.userValues&&e.correctValues}function d(e){return{translation:"Translasi",dilatation:"Dilatasi",rotation:"Rotasi",reflection:"Refleksi"}[e]||e}function x(e,t){switch(t){case"translation":return`X: ${e.translateX}, Y: ${e.translateY}${e.translateZ?`, Z: ${e.translateZ}`:""}`;case"dilatation":return`Faktor Skala: ${e.scaleFactor}`;case"rotation":return`Sudut: ${e.angle}Â°${e.axis?`, Sumbu: ${e.axis}`:""}`;case"reflection":return`Sumbu: ${A(e.axis)}${e.k!==void 0?`, k: ${e.k}`:""}`;default:return JSON.stringify(e)}}function A(e){return{origin:"Titik Asal","x-axis":"Sumbu X","y-axis":"Sumbu Y","line-y-x":"Garis y = x","line-y-neg-x":"Garis y = -x","line-y-k":"Garis y = k","line-x-k":"Garis x = k","radio-xy-plane":"Bidang XY","radio-yz-plane":"Bidang YZ","radio-xz-plane":"Bidang XZ"}[e]||e}function S(e,t,r){switch(r){case"translation":return e.translateX===t.translateX&&e.translateY===t.translateY&&e.translateZ===t.translateZ;case"dilatation":return e.scaleFactor===t.scaleFactor;case"rotation":return e.angle===t.angle&&e.axis===t.axis;case"reflection":return e.axis===t.axis&&e.k===t.k;default:return JSON.stringify(e)===JSON.stringify(t)}}function V(){const{practice:e}=p.useLoaderData(),t=w(),r=new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}),n=e.score.correct/e.score.total*100,u=n>=80?"text-green-600":n>=60?"text-yellow-600":"text-red-600",g=n>=80?"bg-green-50":n>=60?"bg-yellow-50":"bg-red-50";return a.jsxs("div",{className:"flex flex-col flex-grow px-4 md:px-16 space-y-6",children:[a.jsx(h,{title:`Hasil Latihan ${e.code.translatePracticeType()}`,description:`Latihan dikerjakan pada ${r.format(new Date(e.createdAt))}`,colorScheme:"teal"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(s,{icon:a.jsx(l,{className:"text-blue-600"}),title:"Total Soal",content:a.jsx("div",{className:"text-3xl font-bold text-center text-gray-700 dark:text-gray-200",children:e.score.total}),className:"text-center"}),a.jsx(s,{icon:a.jsx(k,{className:"text-green-600"}),title:"Jawaban Benar",content:a.jsx("div",{className:"text-3xl font-bold text-center text-green-600",children:e.score.correct}),className:"text-center"}),a.jsx(s,{icon:a.jsx(N,{className:"text-red-600"}),title:"Jawaban Salah",content:a.jsx("div",{className:"text-3xl font-bold text-center text-red-600",children:e.score.total-e.score.correct}),className:"text-center"})]}),a.jsx(s,{title:"Nilai Akhir",content:a.jsxs("div",{className:c("text-center py-6 rounded-lg",g,u),children:[a.jsxs("div",{className:"text-4xl font-bold mb-2",children:[n.toFixed(0),"%"]}),a.jsxs("div",{className:"text-lg font-semibold",children:[e.score.correct," / ",e.score.total," Soal"]}),a.jsx("div",{className:"text-sm mt-2 opacity-75",children:n>=80?"Sangat Baik":n>=60?"Cukup Baik":"Perlu Belajar Lagi"})]})}),a.jsx(s,{icon:a.jsx(l,{}),title:"Detail Jawaban",content:a.jsx(b,{columns:t,data:e.content.answers??[]}),className:"flex-1"})]})}export{V as component};
