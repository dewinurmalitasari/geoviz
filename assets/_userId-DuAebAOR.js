import{c as p,r as j,j as e,I as o,k as l,G as w,R as C,h as f,b as x,g as M,L as S}from"./index-CeQ_7HA2.js";import{P as A}from"./page-header-YNPf6UAV.js";import{D as u}from"./data-table-LorA5bIz.js";import{E as P}from"./eye-CZSEa0nN.js";import{C as b,F as R,A as T,S as v}from"./smile-BkfalyiH.js";import{F as D}from"./file-text-CFd6p5Bn.js";import{B}from"./book-open-BH0mIYPb.js";import{C as E}from"./circle-check-big-BXhMNU5M.js";import"./input-DRQBVYz2.js";import"./scroll-area-Mw2U67h-.js";import"./index-BdQq_4o_.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],c=p("arrow-up-down",_);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],I=p("book-open-check",G);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],$=p("chart-bar",F);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],k=p("chart-column",L);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],z=p("chart-pie",W);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],V=p("clock",K);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],y=p("target",O);function H(){return j.useMemo(()=>[{id:"createdAt",accessorFn:t=>{const r=new Date(t.createdAt);return new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(r).replace(","," -")},header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Waktu"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({getValue:t})=>e.jsx("div",{className:"text-center px-4 py-3 font-medium",children:t()}),size:20},{id:"code",accessorKey:"code",header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Kode Latihan"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({row:t})=>e.jsx("div",{className:"text-center px-4 py-3 font-semibold text-deep-purple-700 dark:text-deep-purple-300",children:t.original.code.translatePracticeType()})},{id:"score",accessorFn:t=>(t.score.correct/t.score.total*100).toFixed(0),header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Nilai"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({getValue:t})=>{const r=parseInt(t());let i;return r>=80?i="text-green-600 dark:text-green-400 font-bold":r>=60?i="text-yellow-600 dark:text-yellow-400 font-bold":i="text-red-600 dark:text-red-400 font-bold",e.jsx("div",{className:l("text-center px-4 py-3",i),children:t()})}},{id:"correctTotal",accessorFn:t=>`${t.score.correct}/${t.score.total}`,header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Benar/Total"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({getValue:t,row:r})=>{const i=r.original.score.correct/r.original.score.total*100;let n,d;return i>=80?(n="bg-green-50 dark:bg-green-900/20",d="text-green-700 dark:text-green-300"):i>=60?(n="bg-yellow-50 dark:bg-yellow-900/20",d="text-yellow-700 dark:text-yellow-300"):(n="bg-red-50 dark:bg-red-900/20",d="text-red-700 dark:text-red-300"),e.jsx("div",{className:l("text-center px-4 py-2 font-semibold rounded-lg mx-2",n,d),children:t()})}},{id:"actions",header:()=>e.jsx("div",{className:"text-center font-bold",children:"Aksi"}),cell:({row:t})=>e.jsx("div",{className:"flex justify-center",children:e.jsxs(w,{to:C.practices.practiceResult(t.original._id),variant:"primary",children:[e.jsx(P,{className:"h-4 w-4 mr-1"})," Lihat"]})})}],[])}function U(){return j.useMemo(()=>[{id:"createdAt",accessorFn:t=>{const r=new Date(t.createdAt);return new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(r).replace(","," -")},header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Waktu"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({getValue:t})=>e.jsx("div",{className:"text-center px-4 py-3 font-medium",children:t()})},{id:"type",accessorFn:t=>t.type.translateType(),header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Tipe"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({row:t})=>{const r=t.original.type,i=ee(t.original.type),n=te(t.original.type);return e.jsx("div",{className:l("text-center px-4 py-2 font-semibold rounded-full mx-2 border",i,n),children:r.translateType()})}},{id:"details",accessorFn:t=>{switch(t.type){case"visit":return"-";case"material":return t.data.title;case"practice_attempt":return t.data.code.translatePracticeType();case"practice_completed":return t.data.code.translatePracticeType();default:return"-"}},header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Detail"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({getValue:t})=>e.jsx("div",{className:"text-center px-4 py-3 font-medium text-gray-700 dark:text-gray-200",children:t()})}],[])}function q(){return j.useMemo(()=>[{id:"no",header:()=>e.jsx("div",{className:"text-center font-bold",children:"No"}),cell:({row:t})=>e.jsx("div",{className:"text-center px-4 py-3 font-medium",children:t.index+1}),size:10},{id:"type",accessorKey:"type",header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Tipe"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({row:t})=>{const r=t.original.type,i=Y(r),n=Z(r);return e.jsx("div",{className:l("text-center px-4 py-2 font-semibold rounded-full mx-2 border",i,n),children:r==="material"?"Materi":"Latihan"})}},{id:"code_title",accessorFn:t=>t.type==="material"&&t.materialTitle?f.decode(t.materialTitle):t.type==="practice"&&t.practiceCode?t.practiceCode.translatePracticeType():"-",header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Kode / Judul"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({row:t})=>e.jsx("div",{className:"text-center px-4 py-3 font-medium text-gray-700 dark:text-gray-200",children:t.original.type==="material"&&t.original.materialTitle?f.decode(t.original.materialTitle):t.original.type==="practice"&&t.original.practiceCode?t.original.practiceCode.translatePracticeType():"-"})},{id:"reaction",accessorKey:"reaction",header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Reaksi"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({row:t})=>{const r=t.original.reaction,i=J(r);return e.jsx("div",{className:"flex justify-center items-center",children:e.jsxs("div",{className:l("flex items-center gap-2 px-4 py-2 rounded-full border",Q(r),X(r)),children:[e.jsx(i.icon,{className:"h-4 w-4"}),e.jsx("span",{className:"font-medium text-sm",children:i.label})]})})}},{id:"createdAt",accessorFn:t=>{const r=new Date(t.createdAt);return new Intl.DateTimeFormat("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).format(r).replace(","," -")},header:({column:t})=>e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx("div",{className:"font-bold",children:"Waktu"}),e.jsx(o,{variant:"ghost",onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"cursor-pointer hover:bg-transparent hover:scale-105 transition-all duration-200 p-2 h-8 w-8",children:e.jsx(c,{className:"h-4 w-4"})})]}),cell:({getValue:t})=>e.jsx("div",{className:"text-center px-4 py-3 font-medium",children:t()})}],[])}function J(t){switch(t){case"happy":return{icon:v,label:"Senang"};case"neutral":return{icon:T,label:"Biasa"};case"sad":return{icon:R,label:"Sedih"};case"confused":return{icon:b,label:"Bingung"};default:return{icon:b,label:"Tidak Diketahui"}}}function Q(t){switch(t){case"happy":return"text-green-700 dark:text-green-300 border-green-200 dark:border-green-700";case"neutral":return"text-yellow-700 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"sad":return"text-red-700 dark:text-red-300 border-red-200 dark:border-red-700";case"confused":return"text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-700";default:return"text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"}}function X(t){switch(t){case"happy":return"bg-green-50 dark:bg-green-900/20";case"neutral":return"bg-yellow-50 dark:bg-yellow-900/20";case"sad":return"bg-red-50 dark:bg-red-900/20";case"confused":return"bg-purple-50 dark:bg-purple-900/20";default:return"bg-gray-50 dark:bg-gray-900/20"}}function Y(t){switch(t){case"material":return"text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-700";case"practice":return"text-orange-700 dark:text-orange-300 border-orange-200 dark:border-orange-700";default:return"text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"}}function Z(t){switch(t){case"material":return"bg-blue-50 dark:bg-blue-900/20";case"practice":return"bg-orange-50 dark:bg-orange-900/20";default:return"bg-gray-50 dark:bg-gray-900/20"}}function ee(t){switch(t){case"visit":return"text-blue-700 dark:text-blue-300 border-blue-200 dark:border-blue-700";case"material":return"text-purple-700 dark:text-purple-300 border-purple-200 dark:border-purple-700";case"practice_attempt":return"text-yellow-700 dark:text-yellow-300 border-yellow-200 dark:border-yellow-700";case"practice_completed":return"text-green-700 dark:text-green-300 border-green-200 dark:border-green-700";default:return"text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700"}}function te(t){switch(t){case"visit":return"bg-blue-50 dark:bg-blue-900/20";case"material":return"bg-purple-50 dark:bg-purple-900/20";case"practice_attempt":return"bg-yellow-50 dark:bg-yellow-900/20";case"practice_completed":return"bg-green-50 dark:bg-green-900/20";default:return"bg-gray-50 dark:bg-gray-900/20"}}function ae({summary:t,className:r}){const i=[{title:"Kunjungan",value:t.totalVisits,icon:e.jsx(V,{className:"w-5 h-5"}),gradient:"from-blue-500 to-cyan-500",bgGradient:"from-blue-100 to-cyan-100"},{title:"Akses Materi",value:t.totalMaterialsAccessed,icon:e.jsx(D,{className:"w-5 h-5"}),gradient:"from-purple-500 to-pink-500",bgGradient:"from-purple-100 to-pink-100"},{title:"Total Materi",value:t.totalMaterialsAvailable,icon:e.jsx(B,{className:"w-5 h-5"}),gradient:"from-green-500 to-emerald-500",bgGradient:"from-green-100 to-emerald-100"},{title:"Latihan",value:`${t.totalPracticesCompleted}/${t.totalPracticesAvailable}`,icon:e.jsx(y,{className:"w-5 h-5"}),gradient:"from-orange-500 to-red-500",bgGradient:"from-orange-100 to-red-100"},{title:"Penyelesaian",value:t.totalPracticeAttempts>0?`${Math.min(100,Math.round(t.totalPracticesCompleted/t.totalPracticeAttempts*100))}%`:"0%",icon:e.jsx(E,{className:"w-5 h-5"}),gradient:"from-indigo-500 to-blue-500",bgGradient:"from-indigo-100 to-blue-100"},{title:"Total Latihan",value:t.totalPracticesAvailable,icon:e.jsx(k,{className:"w-5 h-5"}),gradient:"from-teal-500 to-green-500",bgGradient:"from-teal-100 to-green-100"}],n=Object.entries(t.materialAccessCount).sort(([,a],[,s])=>s-a).slice(0,t.totalMaterialsAvailable),d=Object.entries(t.practiceCount).map(([a,s])=>({name:a,attempted:s.attempted,completed:s.completed,completionRate:s.attempted>0?Math.min(100,s.completed/s.attempted*100):0})).sort((a,s)=>s.completionRate-a.completionRate),h=a=>{const s={visits:24,materials:a.totalMaterialsAvailable,practices:a.totalMaterialsAvailable*2},m=Math.min(100,a.totalVisits/s.visits*100),g=Math.min(100,a.totalMaterialsAccessed/s.materials*100),N=Math.min(100,a.totalPracticeAttempts/s.practices*100);return m*.3+g*.3+N*.4};return e.jsxs("div",{className:l("space-y-6",r),children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:i.map((a,s)=>e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow duration-200 overflow-hidden","data-aos":"zoom-in-up","data-aos-delay":s%3*100,children:[e.jsx("div",{className:l("h-1 bg-gradient-to-r",a.gradient)}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:l("w-12 h-12 rounded-lg bg-gradient-to-r flex items-center justify-center mb-3",a.bgGradient),children:e.jsx("div",{className:l("text-white bg-gradient-to-r rounded-lg w-8 h-8 flex items-center justify-center",a.gradient),children:a.icon})}),e.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-1",children:a.title}),e.jsx("p",{className:l("text-2xl font-bold",s===3||s===4?t.totalPracticesCompleted/t.totalPracticesAvailable>=.7?"text-green-600":t.totalPracticesCompleted/t.totalPracticesAvailable>=.4?"text-yellow-600":"text-red-600":"text-deep-purple-800"),children:a.value})]})]},s))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(x,{icon:e.jsx($,{}),title:"Statistik Akses Materi",content:e.jsx("div",{className:"space-y-3",children:n.map(([a,s],m)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-deep-purple-100 to-deep-purple-200 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-deep-purple-600",children:m+1})}),e.jsx("span",{className:"font-medium text-gray-700 text-sm line-clamp-1",children:a})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[s," akses"]}),e.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-deep-purple-400 to-deep-purple-600 h-2 rounded-full transition-all duration-500",style:{width:`${s/Math.max(...n.map(([,g])=>g))*100}%`}})})]})]},a))})}),e.jsx(x,{icon:e.jsx(y,{}),title:"Statistik Penyelesaian Latihan",content:e.jsx("div",{className:"space-y-4",children:d.slice(0,t.totalPracticesAvailable).map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-700 capitalize",children:a.name.replace(/_/g," ")}),e.jsxs("span",{className:l("text-sm font-bold",a.completionRate>=70?"text-green-600":a.completionRate>=40?"text-yellow-600":"text-red-600"),children:[a.completionRate.toFixed(0),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500",children:[e.jsxs("span",{children:["Dikerjakan: ",a.attempted]}),e.jsxs("span",{children:["Diselesaikan: ",a.completed]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:l("h-2 rounded-full transition-all duration-500",a.completionRate>=70?"bg-gradient-to-r from-green-400 to-green-600":a.completionRate>=40?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-red-400 to-red-600"),style:{width:`${a.completionRate}%`}})})]},a.name))})})]}),e.jsx(x,{icon:e.jsx(z,{}),title:"Progress Keseluruhan",content:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("svg",{className:"w-24 h-24",viewBox:"0 0 36 36",children:[e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"url(#materialGradient)",strokeWidth:"3",strokeDasharray:`${Math.min(100,Math.round(t.completionRateMaterials))}, 100`,strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"materialGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#8B5CF6"}),e.jsx("stop",{offset:"100%",stopColor:"#7C3AED"})]})})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-deep-purple-800",children:[Math.min(100,Math.round(t.completionRateMaterials)),"%"]})})]}),e.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Progress Materi"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("svg",{className:"w-24 h-24",viewBox:"0 0 36 36",children:[e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"url(#practiceAttemptGradient)",strokeWidth:"3",strokeDasharray:`${Math.min(100,Math.round(t.completionRatePractices))}, 100`,strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"practiceAttemptGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#F59E0B"}),e.jsx("stop",{offset:"100%",stopColor:"#D97706"})]})})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-deep-purple-800",children:[Math.min(100,Math.round(t.completionRatePractices)),"%"]})})]}),e.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Progress Latihan"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("svg",{className:"w-24 h-24",viewBox:"0 0 36 36",children:[e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"url(#practiceGradient)",strokeWidth:"3",strokeDasharray:`${Math.min(100,Math.round(t.totalPracticesCompleted/t.totalPracticeAttempts*100))}, 100`,strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"practiceGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#10B981"}),e.jsx("stop",{offset:"100%",stopColor:"#059669"})]})})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold text-deep-purple-800",children:t.totalPracticeAttempts>0?`${Math.min(100,Math.round(t.totalPracticesCompleted/t.totalPracticeAttempts*100))}%`:"0%"})})]}),e.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Tingkat Penyelesaian"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block",children:[e.jsxs("svg",{className:"w-24 h-24",viewBox:"0 0 36 36",children:[e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"#E5E7EB",strokeWidth:"3"}),e.jsx("path",{d:`M18 2.0845
                                        a 15.9155 15.9155 0 0 1 0 31.831
                                        a 15.9155 15.9155 0 0 1 0 -31.831`,fill:"none",stroke:"url(#engagementGradient)",strokeWidth:"3",strokeDasharray:`${Math.min(100,Math.round(h(t)))}, 100`,strokeLinecap:"round"}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"engagementGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[e.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),e.jsx("stop",{offset:"100%",stopColor:"#1D4ED8"})]})})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-lg font-bold text-deep-purple-800",children:[Math.min(100,Math.round(h(t))),"%"]})})]}),e.jsx("p",{className:"mt-2 font-medium text-gray-600",children:"Tingkat Keterlibatan"})]})]})})]})}function me(){const t=M()?.user.role==="student",{userResponse:r,practicesResponse:i,statisticsResponse:n,statisticsSummaryResponse:d,reactionsResponse:h}=S.useLoaderData(),a=H(),s=U(),m=q();return e.jsxs("div",{className:"flex flex-col flex-grow px-4 md:px-16 space-y-4",children:[e.jsx(A,{title:t?"Histori Latihan":`Detail ${r?f.decode(r.user.username):"Siswa"}`,description:t?"Informasi histori latihan soal.":"Informasi lengkap mengenai siswa.",colorScheme:"teal"}),e.jsxs("div",{className:"flex flex-col flex-grow space-y-4",children:[d&&e.jsx(ae,{summary:d.summary}),n&&e.jsx(x,{icon:e.jsx(k,{}),title:"Statistik Siswa",content:e.jsx(u,{columns:s,data:n.statistics??[]}),className:"flex-1"}),h&&e.jsx(x,{icon:e.jsx(v,{}),title:"Reaksi Siswa",content:e.jsx(u,{columns:m,data:h.reactions??[]}),className:"flex-1"}),e.jsx(x,{icon:e.jsx(I,{}),title:"Histori Latihan Soal",content:e.jsx(u,{columns:a,data:i.practices??[]})})]})]})}export{me as component};
